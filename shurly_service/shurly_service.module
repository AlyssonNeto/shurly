<?php
// $Id$
/**
 * @file
 *  Link ShURLy functionalities to services module.
 */

/**
 * Implementation of hook_perm().
 */
function shurly_service_perm() {
  $perms = array('administer short URL service');

  return $perms;
}

/**
 * Implementation of hook_menu().
 */
/*
function search_service_menu() {
  $items = array();
  $items['admin/settings/search_service'] = array(
    'title'            => t('Search Service'),
    'description'      => t('Configure search service.'),
    'page callback'    => 'drupal_get_form',
    'page arguments'   => array('search_service_admin'),
    'file'             => 'search_service_admin.inc',
    'access arguments' => array('administer search service'),
  );

  return $items;
}
*/

/**
 * Implementation of hook_service().
 */
function shurly_service_service() {
  return array(
    array(
      '#method'           => 'shurly.shorten',
      '#callback'         => 'shurly_shorten',
      '#access arguments' => array('Create short URLs'),
      //'#file'             => array('file' => 'inc', 'module' => 'shurly_service'),
      '#args'             => array(
        array(
          '#name'         => 'long',
          '#type'         => 'string',
          '#description'  => t('Long URL to be shortened.'),
        ),
      ),
      '#return'   => 'array',
      '#help'     => t('Shorten a URL.'),
    ),
  );
}